Write a C program using Flex and Bison to check whether a string belongs to this
grammar. Use a scanner to accept only 0 and 1. If any other character is present,
print "Invalid Input". The parser should check the string and print whether it is
accepted.
S → 0S1 ∣ 1S ∣ ε

Sample Input/Output:
01: String is accepted.
101: String is accepted.
0011: String is accepted.
10: Syntax error
a01: Invalid Input

scanner.l
%{
#include "parser.tab.h"
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
%}

%%
[01]+   {yylval.str = strdup(yytext);return STRING;
        }
\n      ;
[ \t]   ;
.       { printf("Invalid Input\n"); exit(1); }
%%

int yywrap() { return 1; }

parser.y
%{
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int yylex(void);
void yyerror(const char *s);

/*
   Grammar:
   S → 0 S 1 | 1 S | ε
*/
int check(const char *s, int i, int j);
%}

%union { char *str; }

%token <str> STRING

%%

lines:
      | lines STRING {
            const char *str = $2;
            int n = strlen(str);

            if (check(str, 0, n-1))
                printf("String is accepted.\n");
            else
                printf("Syntax error.\n");

            free($2);
        }
      ;

%%

int check(const char *s, int i, int j)
{
    if (i > j) return 1;

    /* 0 S 1 */
    if (s[i] == '0' && s[j] == '1')
        if (check(s, i+1, j-1)) return 1;

    /* 1 S */
    if (s[i] == '1')
        if (check(s, i+1, j)) return 1;

    return 0;
}

void yyerror(const char *s) { fprintf(stderr, "%s\n", s); }

int main() {
    printf("Enter strings :\n");
    yyparse();
    return 0;
}


